
# NOTE: Take the snapshot configuration file and attach the content to it.
# STEPS:
# curl -SL https://downloads.openwrt.org/snapshots/targets/ramips/mt7621/config.buildinfo > .config
# sed -i '/CONFIG_TARGET_DEVICE_/d' .config; sed -i 's/CONFIG_TARGET_MULTI_PROFILE=y/CONFIG_TARGET_MULTI_PROFILE=n/g' .config
# curl -SL https://raw.githubusercontent.com/danpawlik/openwrt-builder/master/configs/ramips/mt7621/extended >> .config
CONFIG_TARGET_ramips=y
CONFIG_TARGET_ramips_mt7621=y
CONFIG_TARGET_ramips_mt7621_DEVICE_ubnt_unifi-6-lite=y
CONFIG_TARGET_PACKAGES_ramips_mt7621_DEVICE_ubnt_unifi-6-lite=""
CONFIG_TARGET_ramips_mt7621_DEVICE_xiaomi_mi-router-4a-gigabit=y
CONFIG_TARGET_PACKAGES_ramips_mt7621_DEVICE_xiaomi_mi-router-4a-gigabit=""

# LuCI
CONFIG_PACKAGE_cgi-io=y
CONFIG_PACKAGE_libiwinfo-lua=y
CONFIG_PACKAGE_liblua=y
CONFIG_PACKAGE_liblucihttp=y
CONFIG_PACKAGE_liblucihttp-lua=y
CONFIG_PACKAGE_libubus-lua=y
CONFIG_PACKAGE_lua=y
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-opkg=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-lib-base=y
CONFIG_PACKAGE_luci-lib-ip=y
CONFIG_PACKAGE_luci-lib-jsonc=y
CONFIG_PACKAGE_luci-lib-nixio=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_PACKAGE_luci-mod-network=y
CONFIG_PACKAGE_luci-mod-status=y
CONFIG_PACKAGE_luci-mod-system=y
CONFIG_PACKAGE_luci-proto-ipv6=y
CONFIG_PACKAGE_luci-proto-ppp=y
CONFIG_PACKAGE_luci-ssl=y
CONFIG_PACKAGE_luci-theme-bootstrap=y

# additional packages
CONFIG_PACKAGE_vim=y
CONFIG_PACKAGE_bmon=y
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_iperf3=y
CONFIG_PACKAGE_curl=y

# additional kmods required by basic packages (also required by collecd)
CONFIG_PACKAGE_kmod-nf-ipt=y
CONFIG_PACKAGE_kmod-ipt-core=y
CONFIG_PACKAGE_kmod-ipt-conntrack=y
CONFIG_PACKAGE_kmod-ipt-nat=y

# attendedsysupgrade
CONFIG_PACKAGE_luci-app-attendedsysupgrade=y
CONFIG_PACKAGE_attendedsysupgrade-common=y
CONFIG_PACKAGE_auc=y

# use experimental kernel
CONFIG_TESTING_KERNEL=y

## wireguard
# CONFIG_PACKAGE_kmod-wireguard=y
# CONFIG_PACKAGE_wireguard-tools=y
# CONFIG_PACKAGE_luci-proto-wireguard=y

## https dns
# CONFIG_PACKAGE_https-dns-proxy=y
# CONFIG_PACKAGE_luci-app-https-dns-proxy=y

# wpad full
CONFIG_DEFAULT_libustream-mbedtls=y
CONFIG_DEFAULT_wpad-basic-mbedtls=y
CONFIG_PACKAGE_libmbedtls=y
CONFIG_PACKAGE_libustream-mbedtls=y
CONFIG_PACKAGE_wpad-mbedtls=y

# collecd
CONFIG_PACKAGE_collectd=y
CONFIG_PACKAGE_collectd-mod-cpu=y
CONFIG_PACKAGE_collectd-mod-dns=y
CONFIG_PACKAGE_collectd-mod-entropy=y
CONFIG_PACKAGE_collectd-mod-interface=y
CONFIG_PACKAGE_collectd-mod-irq=y
CONFIG_PACKAGE_collectd-mod-iwinfo=y
CONFIG_PACKAGE_collectd-mod-load=y
CONFIG_PACKAGE_collectd-mod-memory=y
CONFIG_PACKAGE_collectd-mod-network=y
CONFIG_PACKAGE_collectd-mod-rrdtool=y
CONFIG_PACKAGE_collectd-mod-sensors=y
CONFIG_PACKAGE_collectd-mod-wireless=y

# Dependency kmods - use it when kernel version is not available in mirror
#CONFIG_PACKAGE_kmod-crypto-crc32c=y
#CONFIG_PACKAGE_kmod-crypto-hash=y
#CONFIG_PACKAGE_kmod-crypto-kpp=y
#CONFIG_PACKAGE_kmod-crypto-lib-chacha20=y
#CONFIG_PACKAGE_kmod-crypto-lib-chacha20poly1305=y
#CONFIG_PACKAGE_kmod-crypto-lib-curve25519=y
#CONFIG_PACKAGE_kmod-crypto-lib-poly1305=y
#CONFIG_PACKAGE_kmod-ifb=y
#CONFIG_PACKAGE_kmod-ipt-conntrack=y
#CONFIG_PACKAGE_kmod-ipt-core=y
#CONFIG_PACKAGE_kmod-ipt-ipopt=y
#CONFIG_PACKAGE_kmod-ipt-nat=y
#CONFIG_PACKAGE_kmod-lib-crc32c=y
#CONFIG_PACKAGE_kmod-nf-conntrack=y
#CONFIG_PACKAGE_kmod-nf-conntrack6=y
#CONFIG_PACKAGE_kmod-nf-flow=y
#CONFIG_PACKAGE_kmod-nf-ipt=y
#CONFIG_PACKAGE_kmod-nf-log=y
#CONFIG_PACKAGE_kmod-nf-log6=y
#CONFIG_PACKAGE_kmod-nf-nat=y
#CONFIG_PACKAGE_kmod-nfnetlink=y
#CONFIG_PACKAGE_kmod-nf-reject=y
#CONFIG_PACKAGE_kmod-nf-reject6=y
#CONFIG_PACKAGE_kmod-nft-compat=y
#CONFIG_PACKAGE_kmod-nft-core=y
#CONFIG_PACKAGE_kmod-nft-fib=y
#CONFIG_PACKAGE_kmod-nft-nat=y
#CONFIG_PACKAGE_kmod-nft-offload=y
#CONFIG_PACKAGE_kmod-sched-cake=y
#CONFIG_PACKAGE_kmod-sched-core=y
#CONFIG_PACKAGE_kmod-udptunnel4=y
#CONFIG_PACKAGE_kmod-udptunnel6=y
#CONFIG_PACKAGE_kmod-wireguard=y
